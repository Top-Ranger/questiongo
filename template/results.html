<!DOCTYPE HTML>
<html lang="{{.Translation.Language}}">

<head>
  <title>QuestionGo!</title>
  <meta charset="UTF-8">
  <meta name="robots" content="noindex, nofollow"/>
  <meta name="author" content="Marcus Soll"/>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="author" href="https://msoll.eu/">
  <script src="{{.ServerPath}}/js/moment-with-locales-2.29.4.min.js"></script>
  <script src="{{.ServerPath}}/js/chart-3.9.1.min.js"></script>
  <script src="{{.ServerPath}}/js/chartjs-adapter-moment-1.0.1.min.js"></script>
  <script src="{{.ServerPath}}/js/chartjs-plugin-stacked100-1.2.1.min.js"></script>
  <link rel="stylesheet" href="{{.ServerPath}}/css/questiongo.css">
  <link rel="icon" type="image/vnd.microsoft.icon" href="{{.ServerPath}}/static/favicon.ico">
  <link rel="icon" type="image/svg+xml" href="{{.ServerPath}}/static/Logo.svg" sizes="any">
</head>

<body>
  <header>
    <div style="margin-left: 1%">
      QuestionGo!
    </div>
  </header>

  <script>Chart.register(ChartjsPluginStacked100.default);</script>

  <div class="flex-container">
    <h1 class="flex-item">{{.Key}}</h1>

    {{range $i, $e := .Results }}
    <div {{if even $i}}class="even flex-item" {{else}}class="odd flex-item"{{end}}>
      {{$e}}
    </div>
    {{end}}

    <hr class="flex-item">

    <form action="{{.ServerPath}}/results.csv" target="_self" method="post" class="flex-item">
      <input type="hidden" name="key" value={{.Key}}>
      <input type="hidden" name="auth" value={{.Auth}}>
      <input type="submit" value="Download CSV">
    </form>
    <form action="{{.ServerPath}}/results.zip" target="_self" method="post" class="flex-item">
      <input type="hidden" name="key" value={{.Key}}>
      <input type="hidden" name="auth" value={{.Auth}}>
      <input type="submit" value="Download ZIP">
    </form> 

    <hr class="flex-item">

  </div>

  <script>
    var abbrs = document.querySelectorAll('abbr[title]');
    for(var i = 0; i < abbrs.length; i++) {
      abbrs[i].addEventListener('click', function(event){alert("" + event.currentTarget.innerText + "\n\n" + event.currentTarget.title)})
      console.log("added 'click' to abbr")
    }
  </script>

  <footer>
    <div>
      {{.Translation.CreatedBy}} <a href="https://msoll.eu/"><u>Marcus Soll</u></a> - <a href="{{.ServerPath}}/impressum.html"><u>{{.Translation.Impressum}}</u></a> - <a href="{{.ServerPath}}/dsgvo.html"><u>{{.Translation.PrivacyPolicy}}</u></a>
    </div>
  </footer>
</body>

</html>
